<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.oti.thirtyone.dao.EmployeesDao">

	<select id="selectByEmpId" parameterType="String" resultType="Employee">
		select emp_id, emp_number, emp_password, emp_name, emp_email, emp_gender, emp_birth, emp_postal,
			emp_address, emp_detail_address, emp_tel, emp_image_name, emp_image_data, emp_image_type,
			emp_state, emp_hiredate, emp_resignation_date, emp_role, emp_memo, dept_id, position
		from employees
		where emp_id=#{empId}
	</select>
	
	<insert id="insertEmp" parameterType="Employee">
		insert into employees ( 
		emp_id, emp_number, emp_password, emp_name, emp_email, emp_gender, emp_birth, emp_postal,
			emp_address, emp_detail_address, emp_tel, emp_image_name, emp_image_data, emp_image_type,
			emp_state, emp_hiredate, emp_role, dept_id, position )
		values (
		#{empId}, #{empNumber}, #{empPassword}, #{empName}, #{empEmail}, #{empGender}, #{empBirth}, #{empPostal},
			#{empAddress}, #{empDetailAddress}, #{empTel}, #{empImageName}, #{empImageData}, #{empImageType},
			'재직', sysdate, 'ROLE_USER', #{deptId}, #{position} )
	</insert>
	
	<select id="selectDeptId" parameterType="String" resultType="int">
		select dept_id
		from employees
		where emp_id=#{empId}
	</select>
	
</mapper>
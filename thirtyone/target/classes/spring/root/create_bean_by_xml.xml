<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- 기본생성자를 호출해서 관리 객체로 생성 -->
	<bean 
		id = "ch12Service1"
		class="com.mycompany.springframework.service.Ch12Service1"/>
	
	<!-- 정적 메소드를 호출해서 리턴된 객체를 관리 객체로 생성 -->
	<!-- id or name => 식별이름을 넣는다.(관례적으로 앞글자를 소문자로 한 id -->
	<bean
		name="ch12Service2" 
		class="com.mycompany.springframework.service.Ch12Service2"
		factory-method="getInstance"/>
		
	<!-- 관리 객체의 인스턴스 메소드를 호출해서 리턴된 객체를 관리 객체로 생성 -->
	<bean
		id="ch12Service3"
		factory-bean="ch12Service2"
		factory-method="getCh12Service3"/>
	
	<!-- Setter 주입 -->
	<bean id="ch12Service5"
		class = "com.mycompany.springframework.service.Ch12Service5">
		<!-- name =>식별이름이 아니라 setter의 이름 -->
		<!-- ref => 관리객체의 식별이름 -->
		<property name="dao1" ref="ch12Dao1"></property>	
		<property name="dao2" ref="ch12Dao2"></property>	
		<property name="field3" value="mobile"></property>	
		<property name="field4" value="3"></property>	
	</bean>
	
	<!-- Constructor 주입 -->
	<!-- ref => 관리객체의 식별 이름(매개변수 순서로 작성해 줘야한다.)-->
	<bean id="ch12Service6"
		class = "com.mycompany.springframework.service.Ch12Service6">
		<constructor-arg ref="ch12Dao1"/>	
		<constructor-arg ref="ch12Dao2"/>
	</bean>
	
	<!-- 이미 @Service가 붙어있어서 객체가 있을 때 아래 설정을 하면 
		  객체가 두개가 만들어 질까 1개만 만들어 질까? 
		 객체는 두개가 실행되지만 스프링에서는 하지 않는 게 좋다. 
		 이유: 타입으로 주입받을 떄 문제가 생긴다.-->
	<!-- 만약 같은 값으로 id설정을 하면 객체가 하나만 생성된다.
		이유: 한번 어떤 식별 명으로 객체가 만들어지면 이미 만들어진 객체를 다시 가져와서 사용한다. -->
	<!-- properties의 값을 주입 -->
	<bean 
		id="ch12Service9"
		class="com.mycompany.springframework.service.Ch12Service9">
		<property name="prop4" value="${prop4}"/>
	</bean>
</beans>
